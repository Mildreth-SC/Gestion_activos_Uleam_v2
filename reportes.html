<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reportes - Gestión de Activos ULEAM</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="top-nav">
        <div class="logo-container">
            <img src="img/img.png" alt="ULEAM Logo">
            <h2>Gestión de Activos</h2>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Principal</a></li>
                <li><a href="activos.html">Activos</a></li>
                <li><a href="reportes.html" class="active">Reportes</a></li>
                <li><a href="registro.html">Registro</a></li>
                <li><a href="login.html">Cerrar Sesión</a></li>
            </ul>
        </nav>
    </header>
    <div class="dashboard-container">
        <main class="main-content">
            <h1>Generación de Reportes</h1>
            
            <!-- SECCIÓN XML ESPECIALIZADA -->
            <section class="xml-auditoria-section">
                <h2>Sistema XML de Auditoría y Control</h2>
                <p>Generación de documentos oficiales con información avanzada</p>
                
                <div class="xml-grid">
                    
                    <div class="xml-card">
                        <h4>Auditoría Completa</h4>
                        <p>Incluye: Depreciaciones, alertas, valoraciones y firmas digitales</p>
                        <button onclick="generarAuditoriaXML()" class="generate-button">
                            Generar Auditoría XML
                        </button>
                    </div>
                    
                    <div class="xml-card">
                        <h4>Reporte Depreciación</h4>
                        <p>Cálculo automático de depreciación anual y acumulada</p>
                        <button onclick="generarDepreciacionXML()" class="generate-button">
                            Generar Depreciación XML
                        </button>
                    </div>
                    
                    <div class="xml-card">
                        <h4>Historial de Movimientos</h4>
                        <p>Trazabilidad completa de asignaciones y cambios</p>
                        <button onclick="generarHistorialXML()" class="generate-button">
                            Generar Historial XML
                        </button>
                    </div>
                    
                    <div class="xml-card">
                        <h4>Certificado de Asignación</h4>
                        <p>Documento oficial con responsabilidades detalladas</p>
                        <div class="certificate-input">
                            <input type="number" id="assetIdCertificado" placeholder="ID Activo" min="1">
                            <button onclick="generarCertificadoXMLporID()" class="generate-button">
                                Generar
                            </button>
                        </div>
                    </div>
                    
                </div>
                
                <div class="xml-features">
                    <strong>Características exclusivas XML:</strong>
                    <ul>
                        <li>Cálculo automático de depreciación según vida útil</li>
                        <li>Sistema de alertas por mantenimiento y obsolescencia</li>
                        <li>Validación de garantías y períodos fiscales</li>
                        <li>Certificaciones con firmas digitales</li>
                        <li>Trazabilidad completa de movimientos</li>
                        <li>Códigos patrimoniales autogenerados</li>
                    </ul>
                </div>
            </section>

            <!-- SECCIÓN DE REPORTES EXISTENTE -->
            <section class="report-filters">
                <div class="filter-group">
                    <label for="report-type">Tipo de Reporte</label>
                    <select id="report-type">
                        <option value="inventario">Inventario General</option>
                        <option value="asignacion">Activos por Asignación</option>
                        <option value="disponibles">Activos Disponibles</option>
                        <option value="mantenimiento">Historial de Mantenimiento</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="start-date">Fecha de Inicio</label>
                    <input type="date" id="start-date">
                </div>
                <div class="filter-group">
                    <label for="end-date">Fecha de Fin</label>
                    <input type="date" id="end-date">
                </div>
                <button class="generate-button">Generar Reporte</button>
            </section>
            <section class="report-display">
                <h2>Vista Previa del Reporte</h2>
                <div class="report-content">
                    <p>Seleccione los filtros y genere un reporte para ver los resultados aquí.</p>
                </div>
            </section>
        </main>
    </div>
    
    <!-- SCRIPTS -->
    <script src="js/xmlAuditoria.js"></script>
    <script src="js/main.js"></script>
    
    <script>
        // Función auxiliar para certificado con ID desde input
        function generarCertificadoXMLporID() {
            const assetId = document.getElementById('assetIdCertificado').value;
            if (!assetId) {
                alert('❌ Por favor ingrese el ID del activo');
                return;
            }
            generarCertificadoXML(assetId);
        }
    </script>
</body>
</html>
